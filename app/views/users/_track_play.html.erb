<%= div_for track_play, class: (cycle('even', 'odd')) do %>
  <div class="listen_user">
    <% if track_play.listener&.has_pic? %>
      <%= link_to(image_tag(track_play.listener.pic.pic(:large)), user_home_path(track_play.listener))%>
    <% else %>
      <%= image_tag 'default/no-pic_white.svg' %>
    <% end %>
  </div>
  <div class="listen_details">
    <div>
      <strong><%= link_to h(truncate(track_play.asset.name, length: 48)), user_track_path(track_play.asset.user, track_play.asset) %></strong><br>
    </div>
    <%= local_time_ago(track_play.created_at) %>
    by <%= track_play.listener ? (link_to (h track_play.listener.name), user_home_path(track_play.listener)) :
    "Guest #{track_play.ip.present? ? '('+track_play.ip+')': ''}" %> <br>
    via <%= link_source(track_play.source) %>
  </div>
  <div class="listen_flag">
    <%= flag_for track_play.country %>
  </div>
<% end %>
<div class="clear"></div>
